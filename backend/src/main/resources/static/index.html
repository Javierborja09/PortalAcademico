<!DOCTYPE html>
<html lang="es">
<head>
    <title>Test Auth JWT</title>
</head>
<body>
    <h2>Probar Login de Blackboard</h2>
    <input type="email" id="correo" placeholder="correo@blackboard.com" value="admin@blackboard.com">
    <input type="password" id="password" placeholder="password" value="admin123">
    <button onclick="probarLogin()">Iniciar Sesi√≥n</button>

    <h3>Respuesta del Servidor (JWT):</h3>
    <pre id="resultado" style="background: #eee; padding: 10px;"></pre>

    <script>
        async function probarLogin() {
            const datos = {
                correo: document.getElementById('correo').value,
                password: document.getElementById('password').value
            };

            const response = await fetch('/api/auth/login', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(datos)
            });

            const res = await response.json();
            document.getElementById('resultado').innerText = JSON.stringify(res, null, 2);
            
            if(res.token) {
                console.log("Token recibido:", res.token);
                localStorage.setItem('token', res.token); // Guardamos para futuras pruebas
            }
        }
    </script>
</body>
</html>